{{define "tables"}}
{{template "header" .LayoutData}}
<h2>Tables</h2>
<table border=1 class="tableList">
    {{range .Tables}}
    <tr><td><a href='tables/{{.}}?_rowLimit=100'>{{.}}</a></td></tr>
    {{end}}
</table>
<h2>Relationship diagram</h2>
<div id="table-diagram">
</div>
<script>
    $(document).ready(function() {
        // http://js.cytoscape.org/#getting-started
        var cy = cytoscape({
            container: $('#table-diagram'),
            elements: [
                {{range .Tables}}
                    {data: {id: '{{.}}'}},
                {{end}}
                // {data: {id: 'ab', source: 'a', target: 'b'}}
            ],

            style: [ // the stylesheet for the graph
                {
                    selector: 'node',
                    style: {
                        'background-color': '#666',
                        'label': 'data(id)'
                    }
                },

                {
                    selector: 'edge',
                    style: {
                        'width': 3,
                        'line-color': '#ccc',
                        'target-arrow-color': '#ccc',
                        'target-arrow-shape': 'triangle'
                    }
                }
            ],

            layout: {
                name: 'grid',
                rows: 1
            }

        });
    });
</script>
{{template "footer" .LayoutData}}
{{end}}
